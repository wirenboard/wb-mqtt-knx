{
  "type": "object",
  "title": "KNX Group Object Configuration",
  "definitions": {
    "device": {
      "headerTemplate": "device_header_template",
      "type": "object",
      "title": "Device",
      "properties": {
        "deviceId": {
          "type": "string",
          "title": "Device ID",
          "minLength": "1",
          "propertyOrder": 1
        },
        "groupObjects": {
          "type": "array",
          "title": "List of group objects",
          "items": {
            "$ref": "#/definitions/groupObject"
          },
          "minItems": 1,
          "_format": "tabs",
          "propertyOrder": 2,
          "options": {
            "disable_collapse": true,
            "disable_array_delete_last_row": true
          }
        }
      }
    },
    "groupObject": {
      "headerTemplate": "group_object_header_template",
      "type": "object",
      "title": "Group object",
      "properties": {
        "groupAddress": {
          "type" : "object",
          "title" : "Group Address",
          "propertyOrder": 1,
          "_format" : "grid",
          "options":{
            "collapsed":false,
            "disable_collapse":true,
            "disable_properties":true,
            "disable_edit_json": true
          },
          "properties": {
            "main": {
              "type": "integer",
              "title": "Main",
              "minimum": 0,
              "maximum": 15,
              "default": 0,
              "propertyOrder": 1
            },
            "middle": {
              "type": "integer",
              "title": "Middle",
              "minimum": 0,
              "maximum": 7,
              "default": 0,
              "propertyOrder": 2
            },
            "sub": {
              "type": "integer",
              "title": "Sub",
              "minimum": 0,
              "maximum": 255,
              "default": 0,
              "propertyOrder": 3
            }
          }
        },
        "dataPointType": {
          "type": "string",
          "title": "Data point type",
          "enum": [
            "none",
            "1.xxx_B1",
            "2.xxx_B2",
            "3.xxx_B1U3",
            "4.xxx_Character_Set",
            "5.xxx_8-Bit_Unsigned_Value",
            "6.xxx_V8",
            "7.xxx_2-Octet_Unsigned_Value",
            "8.xxx_2-Octet_Signed_Value",
            "9.xxx_2-Octet_Float_Value",
            "10.001_Time",
            "11.001_Date",
            "12.001_4-Octet_Unsigned_Value",
            "13.xxx_4-Octet_Signed_Value",
            "14.xxx_4-Octet_Float_Value",
            "15.000_Access_Data",
            "16.xxx_String",
            "17.xxx_Scene_Number",
            "18.001_Scene_Control",
            "19.001_DateTime",
            "TODO..."
          ],
          "default": "none",
          "propertyOrder": 2
        }
      }
    }
  },
  "properties": {
    "config_version": {
      "type": "integer",
      "title": "Config version",
      "minimum": 1,
      "default": 1,
      "propertyOrder": 1
    },
    "debug": {
      "type": "boolean",
      "title": "Enable debug logging",
      "default": false,
      "_format": "checkbox",
      "propertyOrder": 2
    },
    "devices": {
      "type": "array",
      "title": "List of devices",
      "items": {
        "$ref": "#/definitions/device"
      },
      "minItems": 1,
      "_format": "tabs",
      "propertyOrder": 3,
      "options": {
        "disable_collapse": true,
        "disable_array_delete_last_row": true
      }
    }
  },
  "options": {
    "disable_edit_json": false
  },
  "defaultProperties": [
    "config_version",
    "debug"
  ],
  "configFile": {
    "path": "/etc/wb-mqtt-knx.conf",
    "service": "wb-mqtt-knx",
    "validate": false
  },
  "translations": {
    "en": {
      "device_header_template": "Device {{self.deviceId}}",
      "group_object_header_template": "{{self.groupAddress.main}}:{{self.groupAddress.middle}}:{{self.groupAddress.sub}}"
    }
  }
}